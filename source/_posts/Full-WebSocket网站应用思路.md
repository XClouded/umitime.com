title: Full-WebSocket网站应用思路
tags:
  - thinking
  - websocket
date: 2014-07-25 21:02:46
---

这几天一直在想的事儿，曾经也有这样的念头一闪而过：全站基于WebSocket的网站应用。

首先是前后端分离的开发模式，借用REST的api做数据交互，那么如果根本不用rest api，而是页面一旦打开就建立一个WebSocket，页面数据的产生和更新全通过socket连接而不是ajax，前后端就完全基于scoket事件来开发，尤其对于Single-Page-App来说, 都用不着angular.js这样的MVVM框架。

比如 UI-1， UI-2&#8230;UI-n等共同使用到一条数据data，当data在任意UI上发生了改变并传回了后端，后端处理后更新数据回推到前端，前端基于scoket事件的机制，可以自动响应这一事件的UI更新操作，UI-1，UI-2，UI-3都可以及时得到渲染更新。

socket可以做到单独数据块的传输，细分数据，前端组合数据或可以“逐行”更新界面，BigPipe。

这种开发模式还存在一些待定的问题，比如长期打开一个连接对后端是怎样的一个压力，相比较普通开发模式（大量短期连接）有没有优势。

不知道这种模式是否已经存在于现有网站应用上。当然游戏界应该是有的了，我只是想网站开发也这样呢？