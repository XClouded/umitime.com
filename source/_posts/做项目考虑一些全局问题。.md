title: 做项目考虑一些全局问题。
tags:
  - solution
  - 自然
date: 2012-03-02 17:55:12
---

ajax请求受登录保护的内容，而这时候session过期了，不适合每个方法都单独去处理这种问题。比如java，可以通过一个filter统一处理，判断ajax自定义添加的一个请求头信息，来区分ajax请求和普通请求，然后返回相应结果：字符串或json。

一些操作，举例：购买一个物品，支付成功，发邮件或短信提醒用户。那么邮件或短信的发送错误不能打断主线任务的进行，所以可以新开线程去单独处理，即使失败也不影响主线结果。